<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>MARKET BOARD</title>
    <style>
        body { 
            background: #0b0e11; color: #fff; font-family: sans-serif; 
            margin: 0; padding: 50px; height: 100vh; overflow: hidden;
            display: flex; flex-direction: column; box-sizing: border-box;
        }
        .header { display: flex; justify-content: space-between; align-items: baseline; border-bottom: 1px solid #2b2f36; padding-bottom: 20px; margin-bottom: 40px; }
        .header h1 { margin: 0; font-size: 2.5vw; letter-spacing: -1px; font-weight: 900; }
        
        .market-row { 
            display: grid; grid-template-columns: 2.5fr 1fr 1.5fr; 
            align-items: center; gap: 50px; padding: 25px;
            background: #161a1e; border: 1px solid #2b2f36; border-radius: 20px; margin-bottom: 20px;
        }
        .q-text { font-size: 2.2vw; font-weight: 700; line-height: 1.2; }
        .price-col { text-align: right; }
        .price-val { font-size: 5vw; font-weight: 900; font-family: 'Inter', sans-serif; color: #00c076; }
        .bar-container { background: #2b2f36; height: 24px; border-radius: 12px; overflow: hidden; }
        .bar-fill { height: 100%; background: #0066FF; transition: width 1.5s ease-in-out; }
        .stats { margin-top: 10px; font-size: 1.2vw; color: #848e9c; font-weight: 600; display: flex; justify-content: space-between; }
    </style>
</head>
<body>
    <div class="header">
        <h1>LIVE PREDICTION MARKETS</h1>
        <div style="color: #00c076; font-weight: bold; font-size: 1.5vw;">● UPDATING LIVE</div>
    </div>
    <div id="board"></div>

    <script>
        const API_URL = "https://script.google.com/macros/s/AKfycbwNYTlmO6HWFgHIPwVuXCSAWcrcoNoHVTPgDpbwOuVdhLUxsQ6epzYtG38-PTgFRDOo/exec";

        async function refresh() {
            try {
                const res = await fetch(`${API_URL}?get=data`);
                const data = await res.json();
                document.getElementById('board').innerHTML = data.map(m => `
                    <div class="market-row">
                        <div class="q-text">${m.question}</div>
                        <div class="price-col">
                            <div class="price-val">${m.percent}¢</div>
                        </div>
                        <div>
                            <div class="bar-container">
                                <div class="bar-fill" style="width: ${m.percent}%"></div>
                            </div>
                            <div class="stats">
                                <span>NO ${100 - m.percent}%</span>
                                <span>VOL: ${m.yes + m.no}</span>
                            </div>
                        </div>
                    </div>
                `).join('');
            } catch(e) {}
        }
        setInterval(refresh, 3000);
        refresh();
    </script>
</body>
</html>
